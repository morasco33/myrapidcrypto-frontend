<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>My Wallet - RapidWealthHub</title>
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"/>
  <link rel="stylesheet" href="wallet.css"/>
  <link rel="stylesheet" href="dashboard.css" /> <!-- Also include dashboard CSS for consistency -->

  <!-- ADDED: This style prevents the page from flashing before auth.js runs -->
  <style>
    html { visibility: hidden; opacity: 0; }
  </style>
</head>
<!-- ADDED: The `auth-loading` class for your script -->
<body class="auth-loading">

  <!-- ADDED: The loading spinner overlay -->
  <div class="loading-spinner-overlay">
      <div class="auth-spinner"></div>
  </div>

  <header>
    <nav>
      <div class="logo">Rapidcrypto</div>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="dashboard.html">Dashboard</a></li>
        <li><a href="wallet.html" class="active">Wallet</a></li>
        <li><a href="transactions.html">Transactions</a></li>
        <!-- These will be hidden/shown by auth.js -->
        <!--<li><a href="login.html">Login</a></li> -->
        <!--<li><a href="register.html">Register</a></li>-->
        <li><a href="#" id="logoutBtn" class="btn">Logout</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <section class="wallet">
      <h1>Welcome, <span id="userName">User</span></h1>

      <div class="wallet-actions">
        <a href="transfer.html" class="action-btn send-btn" id="sendBtn">
          <i class="fas fa-paper-plane action-icon"></i> Send
        </a>
        <a href="receive.html" class="action-btn receive-btn" id="receiveBtn">
          <i class="fas fa-qrcode action-icon"></i> Receive
        </a>
      </div>

      <div class="card balances-card">
        <h3><i class="fas fa-coins"></i> Your Balances</h3>
        <div class="table-container">
          <table id="balancesTable">
            <thead>
              <tr>
                <th>Asset</th>
                <th>Balance</th>
                <th>Value (USD)</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><div class="asset-info"><img src="images/btc.png" alt="Bitcoin" class="asset-icon"> Bitcoin (BTC)</div></td>
                <td data-asset-balance="btc">Loading...</td>
                <td data-asset-value="btc">Loading...</td>
              </tr>
              <tr>
                <td><div class="asset-info"><img src="images/eth.png" alt="Ethereum" class="asset-icon"> Ethereum (ETH)</div></td>
                <td data-asset-balance="eth">Loading...</td>
                <td data-asset-value="eth">Loading...</td>
              </tr>
              <tr>
                <td><div class="asset-info"><img src="images/ada.png" alt="Cardano" class="asset-icon"> Cardano (ADA)</div></td>
                <td data-asset-balance="ada">Loading...</td>
                <td data-asset-value="ada">Loading...</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </section>
  </main>
  
  <!-- ============================================= -->
  <!--               SCRIPTS                         -->
  <!-- ============================================= -->
  <script>
    // ADDED: This flag tells auth.js that this page is protected.
    window.REQUIRES_AUTH = true; 
    window.API_BASE_URL = "https://rapidcrypto-backend.onrender.com/api";
  </script>
  <!-- ADDED `defer` to scripts for better loading performance -->
  <script src="auth.js" defer></script>
  <script src="wallet.js" defer></script>
</body>
</html>