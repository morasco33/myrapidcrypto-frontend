<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>rapidcrypto - Create Account</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
  <!-- Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" 
    integrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0v4LLanw2qksYuRlEzO+tcaEPQogQ0KaoGN26/zrn20ImR1DfuLWnOo7aBA==" 
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  
  <link rel="stylesheet" href="register.css" />

  <script>
    if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {
      window.GLOBAL_KEYS = {
        APP_NAME: "RapidWealthHub (Dev)",
        FRONTEND_URL: "http://localhost:5500",
        API_BASE_URL: "http://localhost:3001"
      };
    } else {
      window.GLOBAL_KEYS = {
        APP_NAME: "RapidWealthHub",
        FRONTEND_URL: "https://rapidcrypto.org",
        API_BASE_URL: "https://rapidcrypto-backend.onrender.com"
      };
    }
    console.log("GLOBAL_KEYS Initialized:", JSON.stringify(window.GLOBAL_KEYS, null, 2));
  </script>
</head>
<body>
  <header>
    <nav>
      <div class="logo">rapidcrypto</div>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="login.html">Login</a></li>
      </ul>
    </nav>
  </header>

  <main class="auth-container">
    <form id="registerForm" class="auth-form" aria-labelledby="registerHeading" novalidate>
      <!-- Added Checkmark SVG (hidden by CSS initially) -->
      <svg class="checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52">
        <path d="M14.1 27.2l7.1 7.2 16.7-16.8"/>
      </svg>

      <div class="auth-header">
        <h2 id="registerHeading">Create Your Account</h2>
        <p>Join rapidcrypto and start your crypto journey today!</p>
      </div>

      <div class="form-group">
        <label for="firstname">First Name</label>
        <input
          type="text"
          id="firstname"
          name="firstname"
          placeholder="Enter your first name"
          required
          autocomplete="given-name"
        />
      </div>

      <div class="form-group">
        <label for="lastname">Last Name</label>
        <input
          type="text"
          id="lastname"
          name="lastname"
          placeholder="Enter your last name"
          required
          autocomplete="family-name"
        />
      </div>

      <div class="form-group">
        <label for="username">Username</label>
        <input
          type="text"
          id="username"
          name="username"
          placeholder="Choose a username"
          required
          minlength="3"
          autocomplete="username"
        />
        <small class="form-text">Minimum 3 characters.</small>
      </div>

      <div class="form-group">
        <label for="email">Email Address</label>
        <input
          type="email"
          id="email"
          name="email"
          placeholder="Enter your email"
          required
          autocomplete="email"
        />
      </div>

      <div class="form-group">
        <label for="password">Password</label>
        <input
          type="password"
          id="password"
          name="password"
          placeholder="Create a strong password"
          required
          minlength="6"
          autocomplete="new-password"
        />
        <small class="form-text">Minimum 6 characters.</small>
        <!-- Added Password Strength Indicator -->
        <div class="password-strength">
          <div class="strength-meter"></div>
        </div>
      </div>

      <div class="form-group">
        <label for="confirmPassword">Confirm Password</label>
        <input
          type="password"
          id="confirmPassword"
          name="confirmPassword"
          placeholder="Confirm your password"
          required
          autocomplete="new-password"
        />
      </div>

      <!-- Restructured Terms and Conditions checkbox and label -->
      <div class="form-group terms-group">
        <label for="terms" class="checkbox-label">
          <input type="checkbox" id="terms" name="terms" required />
          I agree to the <a href="legal agreement.html#terms" target="_blank">Terms and Conditions</a>
        </label>
      </div>

      <button type="submit" id="registerBtn" class="btn primary auth-button">
        <i class="fas fa-user-plus"></i> Create Account
      </button>

      <div
        id="message"
        class="form-message"
        role="alert"
        aria-live="assertive"
        style="min-height: 1.5em; margin-top: 1rem;"
      ></div>

      <!-- Relocated "Already have an account?" paragraph inside the form -->
      <p>
        Already have an account? <a href="login.html">Login here</a>
      </p>
    </form>
    <!-- Removed auth-footer div from here as its content is now inside the form -->
  </main>

  <script src="uiUtils.js"defer></script>
  <script src="auth.js"defer></script>
  <script src="register.js"defer></script>
</body>
</html>