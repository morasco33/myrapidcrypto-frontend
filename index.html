<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Rapidcrypto - Home</title>
  <meta name="description" content="RapidWealthHub - Your complete cryptocurrency management platform with real-time market data, secure portfolio tracking, and investment opportunities." />
  <meta name="keywords" content="cryptocurrency, bitcoin, ethereum, crypto portfolio, trading platform, crypto investment, digital assets" />

  <!-- Favicon -->
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <link rel="apple-touch-icon" href="apple-touch-icon.png">

  <!-- Fonts and Icons -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />

  <!-- Styles -->
  <link rel="stylesheet" href="index.css" />

  <!-- Chart.js Libraries -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom" defer></script>
</head>
<body>

  <header>
    <nav>
      <div class="logo">Rapidcrypto</div>
      <ul id="mainNavUl">
        <li><a href="index.html">Home</a></li>
        <li><a href="dashboard.html" class="auth-required">Dashboard</a></li>
        <li><a href="wallet.html" class="auth-required">Wallet</a></li>
        <li><a href="transactions.html" class="auth-required">Transactions</a></li>
        <li class="nav-auth-item" id="navLoginLink"><a href="login.html">Login</a></li>
        <li class="nav-auth-item" id="navRegisterLink"><a href="register.html">Register</a></li>
        <li class="nav-auth-item" id="logoutNavItem" style="display:none;"><button id="logoutBtn" class="btn logout-btn">Logout</button></li>
      </ul>
      <button id="mobileMenuToggle" class="mobile-menu-toggle" aria-label="Toggle menu" aria-expanded="false">
        <i class="fas fa-bars"></i>
      </button>
    </nav>
  </header>

  <main>
    <!-- Hero Section -->
    <section class="hero">
      <div class="hero-content">
        <h1>Trade. Track. <span class="highlight">Thrive.</span></h1>
        <p class="subtitle">Your complete cryptocurrency management platform with real-time market data and portfolio tracking.</p>
        <div class="cta-buttons">
          <a href="register.html" class="btn primary" id="heroGetStartedBtn">Get Started Free</a>
          <!--<a href="login.html" class="btn secondary"><id="heroGetStartedBtn">login</a> -->
        </div>
      </div>
      <div class="hero-chart-container">
        <canvas id="heroChart"></canvas>
        <div class="chart-error" style="display:none;">
          <p>Chart failed to load. <button class="retry-btn">Retry</button></p>
        </div>
      </div>
    </section>

    <!-- Market Overview -->
    <section class="market-overview" id="market">
      <div class="section-header">
        <h2>Live Market Overview</h2>
        <div class="market-controls">
          <div class="time-filters">
            <button class="time-btn active" data-time="24h" aria-pressed="true">24h</button>
            <button class="time-btn" data-time="7d" aria-pressed="false">7d</button>
            <button class="time-btn" data-time="30d" aria-pressed="false">30d</button>
          </div>
          <div class="search-box">
            <label for="cryptoSearchInput" class="sr-only">Search Cryptocurrencies</label>
            <i class="fas fa-search search-icon"></i>
            <input type="text" id="cryptoSearchInput" placeholder="Search cryptocurrencies..." />
          </div>
        </div>
      </div>

      <div class="market-grid">
        <div class="card top-movers">
          <h3><i class="fas fa-bolt"></i> Top Movers</h3>
          <div class="movers-container" id="topMoversContainer">
            <p class="loading-text">Loading top movers...</p>
            <p class="error-text" style="display:none;">Failed to load data. <button class="retry-btn">Retry</button></p>
          </div>
        </div>

        <div class="card market-chart-card">
          <h3><i class="fas fa-chart-line"></i> <span id="marketChartTitle">BTC/USD</span> Price Chart</h3>
          <div class="chart-container">
            <canvas id="marketChart"></canvas>
            <div class="chart-error" style="display:none;">
              <p>Chart failed to load. <button class="retry-btn">Retry</button></p>
            </div>
          </div>
        </div>

        <div class="card crypto-table-card">
          <h3><i class="fas fa-coins"></i> Top Cryptocurrencies by Market Cap</h3>
          <div class="table-container">
            <table>
              <thead>
                <tr>
                  <th>#</th>
                  <th>Name</th>
                  <th>Price</th>
                  <th>24h %</th>
                  <th>Market Cap</th>
                  <th>Trade</th>
                </tr>
              </thead>
              <tbody id="cryptoTableBody">
                <tr><td colspan="6" class="loading-text">Loading market data...</td></tr>
                <tr class="error-row" style="display:none;"><td colspan="6">Failed to load data. <button class="retry-btn">Retry</button></td></tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </section>

    <!-- Other sections remain the same -->
    <section class="stats-section">
      <div class="stats-container">
        <!-- Kept spans for stats as per your last HTML, JS should target these spans -->
        <div class="stat-box"><h2><span id="activeUsersStat">3.2k+</span></h2><p>Active Users</p></div>
        <div class="stat-box"><h2><span id="totalDepositsStat">$5.3M+</span></h2><p>Total Deposits</p></div>
        <div class="stat-box"><h2><span id="totalWithdrawalsStat">$15.2M+</span></h2><p>Total Withdrawals</p></div>
        <div class="stat-box"><h2><span id="countriesSupportedStat">150+</span></h2><p>Countries Supported</p></div>
      </div>
    </section>
    <!-- ... -->

  </main>

  <footer>
    <div class="container">
      <div class="footer-content">
        <div class="footer-column about-column">
          <a href="index.html">
            <img src="images/logo.png" alt="RapidCrypto Logo">
          </a>
          <p>The most trusted cryptocurrency platform for secure trading, investment, and portfolio management.</p>
          <div class="social-links">
            <a href="https://twitter.com/" target="_blank" rel="noopener noreferrer" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
            <a href="https://www.facebook.com/" target="_blank" rel="noopener noreferrer" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
            <a href="https://www.linkedin.com/" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
          </div>
        </div>
        <div class="footer-column links-column">
            <h3>Products</h3>
            <ul>
                <li><a href="deposit.html" class="auth-required">Deposit Funds</a></li>
                <li><a href="withdraw.html" class="auth-required">Withdraw Funds</a></li>
                <li><a href="wallet.html" class="auth-required">My Wallet</a></li>
                <li><a href="transactions.html" class="auth-required">Transaction History</a></li>
            </ul>
        </div>
        <div class="footer-column links-column">
            <h3>Investment</h3>
            <ul>
                <li><a href="dashboard.html#silver-plan" class="auth-required">Silver Plan</a></li>
                <li><a href="dashboard.html#gold-plan" class="auth-required">Gold Plan</a></li>
                <li><a href="dashboard.html#premium-plan" class="auth-required">Premium Plan</a></li>
                <li><a href="get loan.html" class="auth-required">Crypto Loans</a></li>
            </ul>
        </div>
        <div class="footer-column links-column">
            <h3>Support</h3>
            <ul>
                <li><a href="contact us.html">Help Center</a></li>
                <li><a href="faq.html">FAQ</a></li>
                <li><a href="legal agreement.html">Legal</a></li>
                <li id="footerLogoutLi" style="display: none;"><a href="#" class="btn-link" id="footerLogoutBtn">Logout</a></li>
            </ul>
        </div>
      </div>
      <div class="copyright">
        <p id="copyrightYearText">© 2021 Rapi. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <!-- Global API Base URL -->
  <script>
    window.API_BASE_URL = "https://rapidcrypto-backend.onrender.com";
    
    // Simple auth check function (implement proper auth in auth.js)
    function isUserLoggedIn() {
      return localStorage.getItem('authToken') !== null;
    }
  </script>

  <!-- JavaScript Files -->
  <script src="auth.js"></script>
  <script src="uiUtils.js"></script>
  <script src="script.js"></script>
  <script src="market-trends.js"></script>

  <!-- Inline script for immediate DOM handling -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Copyright year
      document.getElementById('copyrightYearText').textContent = 
        `© ${new Date().getFullYear()} RapidWealthHub. All rights reserved.`;

      // Mobile menu toggle
      const mobileMenuToggle = document.getElementById('mobileMenuToggle');
      const mainNavUl = document.getElementById('mainNavUl');
      if (mobileMenuToggle && mainNavUl) {
        mobileMenuToggle.addEventListener('click', () => {
          const isExpanded = mobileMenuToggle.getAttribute('aria-expanded') === 'true';
          mobileMenuToggle.setAttribute('aria-expanded', !isExpanded);
          mainNavUl.classList.toggle('active');
          mobileMenuToggle.innerHTML = !isExpanded 
            ? '<i class="fas fa-times"></i>' 
            : '<i class="fas fa-bars"></i>';
        });
      }

      // Auth protection for links
      document.querySelectorAll('.auth-required').forEach(link => {
        link.addEventListener('click', (e) => {
          if (!isUserLoggedIn()) {
            e.preventDefault();
            window.location.href = 'login.html?redirect=' + encodeURIComponent(link.href);
          }
        });
      });

      // Retry buttons
      document.querySelectorAll('.retry-btn').forEach(btn => {
        btn.addEventListener('click', () => {
          // Implement your retry logic here or in market-trends.js
          console.log('Retry loading data...');
          window.location.reload();
        });
      });
    });
  </script>
</body>
</html>